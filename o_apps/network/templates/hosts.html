{% extends "base.html" %}

{% block content %}
    <ol class="breadcrumb" style="padding-top: 50px">
          <li><a href="#">Network</a></li>
          <li class="active">Hosts</li>
    </ol>
<table class="table table-striped table-hover" ng-controller="nodesCtrl">

  <thead>
  <tr>
    <th>Pos</th>
    <th>Procs</th>
    <th>%Ram</th>
    <th>%Cpu</th>
    <th>Load5</th>
    <th>Load15</th>
    <th>Tcpu_proc</th>
    <th>Tram_proc</th>
    <th>Uptime</th>
    <th>Sync</th>
    <th>Cnxn</th>
    <th>...</th>
  </tr>
  </thead>
  <tbody>

  <tr ng-repeat="node in nodes" ng-cloak>
    <td>[[node.pos]]/[[node.hostname]]</td>
    <td>[[node.procs]]</td>
    <td><p  ng-class="{'critical':node.ram_prc>90, 'medium': node.ram_prc<=90 && node.ram_prc>=60, 'normal': node.ram_prc<60 && node.ram_prc>=30, 'cool': node.ram_prc<30}">
        [[node.ram_prc]]</p>
    </td>
    <td><p class="" ng-class="{'critical':node.cpu_pcpu>90, 'medium': node.cpu_pcpu<=90 && node.cpu_pcpu>=60, 'normal': node.cpu_pcpu<60 && node.cpu_pcpu>=30, 'cool': node.cpu_pcpu<30}">
        [[node.cpu_pcpu]]</p>
    </td>
    <td>
        <p class="" ng-class="{'critical':node.load_prc5>90, 'medium': node.load_prc5<=90 && node.load_prc5>=60, 'normal': node.load_prc5<60 && node.load_prc5>=30, 'cool': node.load_prc5<30}">
            [[node.load5]] / [[node.load_prc5]]%
        </p>
    </td>
    <td>
        <p class="" ng-class="{'critical':node.load_prc5>90, 'medium': node.load_prc5<=90 && node.load_prc5>=60, 'normal': node.load_prc5<60 && node.load_prc5>=30, 'cool': node.load_prc5<30}">
            [[node.load15]] / [[node.load_prc15]]%
        </p>
    </td>
    <td>[[node.cpu_proc_name]] / [[node.cpu_proc_pcpu]]%</td>
    <td>[[node.ram_top_proc]] / [[node.ram_top_pmem]]%</td>
    <td>
        <p ng-class="{'critical':node.uptime_seg > three_month, 'medium': node.uptime_seg<=three_month && node.uptime_seg>=two_month, 'normal': node.uptime_seg<two_month && node.uptime_seg>=one_month, 'cool': node.uptime_seg < one_month}">
            [[node.uptime_str]]
        </p>
    </td>
    <td>[[node.sync_dif]]</td>
    <td><i ng-class="{red:!node.connected, green:node.connected}"  class="wifi icon"></i></td>
    <td>
        <a href="" data-toggle="tooltip" title="Imprimir" ><i class="print icon"></i></a>
        <a href="/network/host/[[node.id]]/" data-toggle="tooltip" title="Detalles"><i class="expand icon" ></i></a>
    </td>
  </tr>
  </tbody>
</table>


{% endblock content %}